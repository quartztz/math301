\chapter{Groups}
\marginpar{Week 2}

\section{Base definitions}

\subsection{Groups and cosets}

\begin{definition}
  A \emph{group} is a set $G$ with a binary operation $\cdot: G \times G \to G$, satisfying the following axioms: 
  \begin{itemize}
    \item $\cdot$ is \emph{associative}: $(a \cdot b) \cdot c = a \cdot (b \cdot c)$
    \item There exists a \emph{neutral element} $e$ such that $a \cdot e = e \cdot a = a \ \forall a \in G$. 
    \item For any $a \in G$ there exists an \emph{inverse} $a^{-1}$ such that $a^{-1} \cdot a = a \cdot a^{-1} = e$. 
  \end{itemize}
  We say that $G$ is a \emph{finite} group if $|G| < \infty$. In that case, we say that $G$ is of \emph{order} $|G|$. 
  We say that $G$ is \emph{abelian} (or commutative) if $a\cdot b = b\cdot a \ \forall a, b \in G$. 
\end{definition}
\begin{definition}
  $H \subset G$ is a \emph{subgroup} if it contains the neutral element $e_G$ and if it is closed with respect to $\cdot_G$, meaning that for every $a, b \in H$, $a\cdot b \in H$, and to inverses. 
\end{definition}

We can note that any group has a subgroup generated by a single element:
\[
  \gen{g} = \{e, g^{1}, g^{2}, \dots, g^{-1}, g^{-2}, \dots\}
\]
Since $g^i \cdot g^j = g^{i + j}$ by definition of the group operation, this set is closed under it, meaning it is a subgroup. 

\begin{definition}
  If it exists, the minimal $n \in \mathbb{N}^*$ such that $g^n = e$ is called the \emph{order} of $g$. It is finite for every element in a finite group. 
\end{definition}

\begin{definition}
  Let $H\subset G$ be a subgroup of G. The \emph{left coset} of $g$ with respect to $H$, denoted $gH$, is the following set: 
  \[
    gH = \{gh, h \in H\}
  \]
\end{definition}

\begin{theorem}
  Let $H \subset G$ finite. Then: 
  \begin{enumerate}
    \item Two left-cosets $xH, yH$ are either disjoint ($xH \cap yH = \emptyset$) or equal. 
    \item For any element $g \in G$ there exists a left coset of $H$ such that $g \in H$.
    \item $|xH| = |H| \ \forall x \in G$
  \end{enumerate}
\end{theorem}
\begin{proof}
  We will prove each part separately: 
  \begin{enumerate}
    \item Suppose $xH, yH$ are such that $xH \cap yH \neq \emptyset$. This means that there exist $h_1, h_2$ such that $xh_1 = yh_2$. Therefore, 
    \[
      x = yh_2h_1^{-1} = yh_3 \in yH \Rightarrow xh = yh_3h \ \forall h \in H
    \]
    This means that if there exists an element of $xH$ that is in $yH$, then every element in $xH$ can be written as an element in $yH$, meaning they are equal.
    \item For any $g \in G$, one can construct $gH = \{e, g, g^2, ...\}$, which naturally contains $g$. 
    \item The mapping 
    \begin{align*}
      f(h): H     &\to xH \\
            h &\mapsto xh
    \end{align*}
    is surjective, by definition of $xH = \{xh, h \in H\}$, and it is also injective, since $xh_1 = yh_2 \Leftrightarrow h_1 = h_2$. This means it defines a bijection between $H$ and $xH$, indicating they have the same cardinality.
  \end{enumerate}
  \aparte{Example}{
    Let $G = (\mathbb{Z}, +, 0), H = 3\mathbb{Z}\subset \mathbb{Z}$. The left coset of 0 with respect to $H$ is : 
    \[
      \{0 + 3k\}_{k \in \mathbb{Z}} = H = \{3 + 3k\}_{k \in \mathbb{Z}}
    \]
    The left coset of 1 is 
    \[
      \{1 + 3k\}_{k \in \mathbb{Z}} = \{1, 4, 7, -2, ...\}
    \]
  }
\end{proof}

\begin{theorem}[Lagrange's theorem]
Let $G$ be a finite group, $H \subset G$ a subgroup. Then, $|H|$ divides $|G|$.
\end{theorem}
\begin{proof}
  Each $g \in G$ belongs to a left coset of $H$, which are either disjoint or equal. This means:
  \begin{align*}
    G &= \bigcup_{i = 0}^{r}x_iH &[\text{disjoint union of finite \# of sets}] \\
    \Rightarrow |G| &= \sum_{i = 0}^r |x_iH| &\\
    \Rightarrow |G| &= \sum_{i = 0}^r |H| &[\text{since } |xH| = |H|] \\
    \Rightarrow |G| &= r|H| &
  \end{align*}
  with $r \in \mathbb{N}$, meaning that $|H|$ divides $|G|$. 
\end{proof}

\begin{definition}
  The number of left cosets of $H$ of $G$ is called the \emph{index} of $G$: 
  \[
    [G : H] = |G|/|H| \in \mathbb{N}^*
  \]
\end{definition}

This means that the order of any element $g \in G$ (notated $\ord(g)$) divides the order of the group $|G|$, since every element generates a subgroup $\gen{g}$. Additionally, it implies 

\begin{corollary}\label{stupid}
  $g^{|G|} = (g^{\ord(g)})^{k} = e^k = e$ for some $k$.
\end{corollary}

\subsection{RSA and back to primes}

\begin{theorem}[Euler's theorem]
  Let $a, n \in \mathbb{Z}^+$. such that $\gcd(a, n) = 1$. Then, \[ a^{\tot(n)} \equiv 1 \ \mod n\]
\end{theorem}
\begin{proof}
  Consider $G = (\mathbb{Z}/n\mathbb{Z}, \cdot, 1)$. Then, 
  \[
    a^{\tot(n)} = a^{|G|} \stackrel{\ref{stupid}}{=} 1
  \]
\end{proof}

\begin{theorem}[Fermat's little theorem]
  Let $a \in \mathbb{Z}^+$, $p$ prime such that $p$ does not divide $a$. Then, $a^{p - 1} = 1$. 
\end{theorem}
\begin{proof}
  Consider $G = (\mathbb{Z}/p\mathbb{Z}, \cdot, 1)$. Then, $|G| = \tot(p) = p - 1$. By Euler's theorem, \[a^{\tot(p)} = a^{(p - 1)} = 1\]
\end{proof}

\aparte{RSA}{
  The RSA cryptosystem for message transmission works as follows: 
  \begin{enumerate}
    \item Choose two distinct large primes $p, q$. 
    \item Compute $m = pq \Rightarrow \tot(m) = (p - 1)(q - 1)$. 
    \item Choose $e \leqslant m$ an encryption key such that $\gcd(e, \tot(m)) = 1$. 
    \item Use Euclid's algorithm to determine $d$ such that $ed - k\tot(m) = 1$ for some integer $k$.
    \item The encoding key is the pair $(m, e)$, and it can be published. To decode, you use the decoding key $(m, d)$ which is to be kept private. 
  \end{enumerate}

  To send a message $x$ to someone, you need their public pair $(m, e)$. You first compute $c \equiv x^e \mod m$, which can be sent publicly. To decode, the person will use their private pair $(m, d)$, computing $x \equiv c^d \mod m \equiv x^{ed} \mod m$.
}

Why is it the case that $x^{ed} \equiv x \mod m$? Well...

\marginpar{Week 3}
\begin{theorem}
  Let $p, q$ be two distinct primes, and $m = pq$. Let $e: \gcd(e, \tot(m)) = 1$, and let $d \in \mathbb{Z}: ed - k\tot(m) = 1$ for some $k \in \mathbb{Z}$. Then, 
  \[
    x^{ed} \equiv x \mod m
  \]
  for all $x \in \mathbf{m}\}$.
\end{theorem}
\begin{proof}
  If $x = pt$ for some $t$, then trivially $x \equiv x^{ed} \equiv 0 \mod p$. If $x$ is not divisible by $p$, then we can rewrite 
  \[
    x^{ed} = x^{k\tot(m) + 1}
  \]
  By Fermat's theorem, we know that $x^{p-1} \equiv 1 \mod p$, meaning:
  \[
    x^{k\tot(m)} = x^{k(p - 1)(q - 1)} = \big(x^{p - 1}\big)^{k(q - 1)} \equiv 1^{k(q - 1)} \equiv 1 \mod p \Rightarrow x^{k\tot(m) + 1} \equiv x \mod p
  \]
  Meaning in both cases $x^{ed} \equiv x \mod p$. By a symmetric argument, the same is true $\mod q$, allowing us to conclude 
  \begin{align*}
    x^{ed} - x &\equiv 0 \mod pq \\
               &\equiv 0 \mod m \\
    \therefore x^{ed} &\equiv x \mod m
  \end{align*}
\end{proof}

\aparte{RSA}{
  As a quick example, let's consider an RSA system with the following characteristics: 
  \[
    p = 3, q = 11 \Rightarrow m = pq = 33, \tot(m) = (p - 1)(q - 1) = 20
  \]
  We choose $e = 7$ which is coprime with $\tot(m)$. We compute $d$: 
  \begin{align*}
    20 &= 7 \cdot 2 + 6 \\
    7  &= 6 \cdot 1 + 1 \\
    \Rightarrow
    1  &= 7 - 6 \cdot 1 \\
       &= 7 - (20 - 7 \cdot 2) \cdot 1 \\
       &= \underbrace{7}_e \cdot \underbrace{3}_d - \underbrace{20}_{\tot(m)}
  \end{align*}
}

\section{Homomorphisms}

\subsection{When the morphism is homo D:}

\aparte{Examples}{
  Recall a few examples of groups:

  \begin{enumerate}
    \item $\mathbb{Z}/n\mathbb{Z} = \big\{[0], [1], ..., [n - 1]\big\}$ with regular modular addition and 0 as the neutral element. 
    \item $(\mathbb{Z}/n\mathbb{Z})^* = \{a \in \mathbb{Z}/n\mathbb{Z}: \gcd(a, n) = 1\}$ with modular multiplication and 1 as the neutral element. This is a group because 
    \begin{gather*}
      \gcd(a, n) = 1 \Leftrightarrow \exists x, y \in \mathbb{Z}: ax + ny = 1 \\
      \Rightarrow [a] \cdot [n] = [1] \mod n
    \end{gather*}
    
    These are two abelian!

    \item The $n$-th complex roots of unity! \[\sqrt[n]{1} = \{e^{\frac{2\pi ki}n}, k = 0, ..., n - 1\}\]

    If you define $q = e^{i\frac{2\pi}{n}}$, then the group can be defined as the generated group:
    \[
      \sqrt[n]{1} = \gen{q} = \{1, q, q^2, ..., q^{n - 1}\} \stackrel{not.}{=} C_n
    \]

    $C_n$ is defined as \emph{the cyclic group of order $n$}, and it's easy to convince yourself of the fact that $(C_n, \cdot, 1)$ is ``the same'' as $(\mathbb{Z}/n\mathbb{Z}, +, 0)$, in the sense that they have similar enough structure that you could map one onto the other and back.
  \end{enumerate}
}

\begin{definition}
  A map $\phi: G \to H$ between two groups is said to be a \emph{group homomorphism} if 
  \[
    \phi(x \cdot_G y) = \phi(x) \cdot_H \phi(y) \ \forall x, y \in G
  \]
\end{definition}

This formally defines the ``structure-maintaining'' constraint on $\phi$, and it also implies that $\phi(e_G) = e_H$ and $\phi(x^{-1}) = \phi(x)^{-1}$

\begin{definition}
  A group homomorphism that can be inverted to a group homomorphism is called a \emph{group isomorphism}. If $\phi: G \to H, \psi: H \to G$ are two group homomorphisms such that $\phi \circ \psi = \operatorname{Id}_H, \psi \circ \phi = \operatorname{Id}_G$, then $G$ and $H$ are said to be \emph{isomorphic groups} (denoted $G \simeq H$).
\end{definition}

\begin{definition}
  A \emph{group automorphism} is a group isomorphism from a group onto itself $\phi: G \to G$.
\end{definition}

\aparte{Example}{
  The map
  \begin{align*}
    \phi: C_n &\to     \mathbb{Z}/n\mathbb{Z} \\
          q^i &\mapsto [i]
  \end{align*}
  is a bijection, with inverse
  \begin{align*}
    \phi^{-1}: \mathbb{Z}/n\mathbb{Z} &\to     C_n \\
               [i]                    &\mapsto q^i
  \end{align*}
  and it respects the bounds on the group operations: 
  \begin{gather*}
    \phi(q^i \cdot q^j) = \phi(q^{i + j}) = [i + j] \\
    \phi(q^i) \cdot \phi(q^j) = [i] + [j] = [i + j]
  \end{gather*}
  meaning that $C_n \simeq \mathbb{Z}/n\mathbb{Z}$.
}

\subsection{Generators and Relations}

We've seen that groups can be represented as a set of elements coupled with a binary operation on those elements. However, we can define another representation of a group, based on \emph{generators and relations}: 

\begin{definition}
  The set of \emph{generators} of a group $G$ is the minimal subset of elements of $G$ such that any element of $G$ can be written as a product of generators and their inverses.
\end{definition}


\begin{definition}
  A \emph{relation} is an equation that is satisfied by every element of a group. 
\end{definition}
  
\begin{definition}
  A \emph{presentation of a group $G$ in generators and relations} is an expression of the form : 
  \[
    G = \langle S | R\rangle
  \]
  With $S$ a set of generators, and $R$ a set of relations on elements of $S$, such that any other relation on $G$ follows from them. 
\end{definition}

\aparte{Example}{
  For example, the cyclic group of order $n$, $C_n$, is generated by $q$, since every element can be written as $q^k$ for some $0 < k < n$. Additionally, the relation $q^n = 1$ holds on $q$. This means that we can write:
  \[
    C_n = \{1, q^1, ..., q^{n - 1}\} = \langle q | q^n = 1\rangle
  \]
}

This representation allows us to define group homomorphisms in an easier way:

\begin{theorem*}
  Let $G = \langle S | R_1 = 1, ..., R_k = 1 \rangle$, let $H$ a group. We define a mapping $\phi: G \to H$ as follows: 
  \begin{enumerate}
    \item[a)] $\phi(s) \in H$ for every generator $s \in S$. 
    \item[b)] $\phi(x_1 \cdot_G x_2) = \phi(x_1) \cdot_H \phi(x_2)$ for any $x_1, x_2 \in G$.
  \end{enumerate}
  Then, $\phi$ is a group homomorphism if and only if $R_1, ..., R_k$ are satisfied for any $\phi(s)$.
\end{theorem*}
\marginpar{Week 4}
\begin{definition}
  Let $\phi: G \to H$ a group homomorphism. The \emph{kernel} of a group homomorphism is the set 
  \[
    \ker \phi = \{g \in G: \phi(g) = e_H\} \subset G
  \]
\end{definition}

\begin{theorem*}
  Let $\phi: G \to H$ a group homomorphism. The kernel of $\phi$ is a subgroup of $G$. 
\end{theorem*}

\begin{proof}
  Let $a, b \in \ker \phi$. Then: 
  \begin{itemize}
    \item $\phi(e_G) = e_H$ by definition of a group homomorphism, meaning that $e_G\in\phi$. 
    \item $\phi(a \cdot b) = \phi(a) \cdot \phi(b) = e \cdot e = e$, meaning that $a, b \in \ker \phi \Rightarrow ab \in \ker \phi$. 
    \item $\phi(a^{-1}) = (\phi(a))^{-1} = e^{-1} = e$, meaning that $a \in \ker \phi \Rightarrow a^{-1} \in \ker \phi$.
  \end{itemize}
  These three properties mean that $\ker \phi$ is a subgroup of $G$. 
\end{proof}


\begin{definition}
  Let $\phi: G \to H$ a group homomorphism. The \emph{image} of $\phi$ is the set $\phi(G) \subset H$.
\end{definition}

\begin{theorem*}
  Let $\phi: G \to H$ a group homomorphism. The image $\phi(G) = \{\phi(g)\}_{g \in G} \subset H$ is a subgroup in $H$. 
\end{theorem*}

\begin{proof}
  Let $h_1, h_2 \in \phi(G)$. Then
  \begin{itemize}
    \item $\phi(e_G) = e_H$ by definition of a group homomorphism, meaning $e_h \in \phi(G)$.
    \item $h_1 h_2 = \phi(g_1) \cdot \phi(g_2) = \phi(g_1 g_2)$ for some $g_1, g_2 \in G$, meaning $h_1 h_2 \in \phi(G)$.
    \item $h_1^{-1} = \phi(g_1)^{-1} = \phi(g_1^{-1})$, meaning $h_1^{-1} \in \phi(G)$,
  \end{itemize}
  This means $\phi(G)$ is a subgroup of $H$. 
\end{proof}

\begin{definition}
  A subgroup $H \subset G$ is a \emph{normal subgroup} (notated $H  \mathrel{\triangleleft} G$) if $\forall h, \forall g$, we have $ghg^{-1} \in H$. 
\end{definition}

For any group homomorphism $\phi: G \to H$, the kernel $\ker G$ is a normal subgroup of $G$. If you take any $g \in G, h \in H$, then we have: 
\[
  \phi(ghg^{-1}) = \phi(g)\phi(h)\phi(g^{-1}) = \phi(g)(\phi(g))^{-1} = e
\]
meaning that $ghg^{-1} \in \ker G$ as well. 

\begin{definition}
  The group of rigid symmetries of a flat regular $n$-gon is called the \emph{dihedral group of order $n$}, and it is denoted $D_n$. 
\end{definition}
\aparte{About symmetries}{
  It is generated by a single rotation counterclockwise, leaving the shape self-similar but with vertices ``shifted'' by one to the left, and one ``mirroring" of the shape per axis of symmetry. 

  For example, for a square, we have: 
  TODO: ADD IMAGE
  \[
    D_4 = \{1, r, r^2, r^3, r^4, s_1, s_2, s_3, s_4\}
  \]
  with $r$ a counterclockwise rotation and $s_i$ a reflection across the $i$-th axis. The group operation is concatenation of action: it's easy to see how two consecutive rotations $r$ might yield a double rotation ($r \cdot r = r^2$) and how concatenating a rotation and a symmetry can be defined as $rs_i$

  This is group is not commutative: take a piece of paper, draw a labelled square, and you'll soon convince yourself of the fact that $rs \neq sr$, i.e. that a rotation followed by a mirroring does not yield the same result as the same mirroring followed by the same rotation. 

  In general, $|D_n| = 2n$: due to the nature of our moves, if after a move we have $n$ ``free'' spots where vertex 1 could have ended up, after we choose that one, there's only two spots for vertex 2 (either right before or right after it) before defining a full state for the figure. This means $|D_n| \leqslant 2n$, and since we can lay out $2n$ elements, then $|D_n| = 2n$.

  Playing around with the polygon shows the evident relation $srs = r^{-1}$, equivalent to $(sr)^2 = 1$. With this, we can write: 
  \begin{align*}
    D_n 
    &= \langle r, s | r^n = 1, s^2 = 1, srs = r^{-1} \rangle \\
    &= \{1, r, r^2, ..., r^{n - 1}, s, sr, sr^2, ..., sr^{n - 1}\}
  \end{align*}
  Thanks to our relations, we know that we can write any product of moves under the form $s^ar^b$ for some $a, b$.

  The two subgroups that are worth mentioning are:
  \begin{itemize}
    \item the group of rotations $R = \gen{r} = \{1, r, ..., r^{n - 1}\}$, which defines two cosets, the coset of rotations $1R$ and the coset of all symmetries $sR = \{s, sr, ..., sr^{n - 1}\}$. 
    
    It is a normal subgroup, since $gr^kg^{-1} \in R$ no matter what $g$ you use. 
    \item the group of symmetries $K = \gen{s} = \{1, s\}$. This is not a normal subgroup, as $rsr^{-1} = sr^{-1}r^{-1} = sr^{-2} \notin K$.
  \end{itemize} 
}

\section{Weirder groups}

\begin{theorem*}
  Let $H \mathrel{\triangleleft} G$. We define the product on left cosets of $H$ as 
  \[
    (xH) \cdot (yH) = (xyH)
  \]
  with $eH$ the neutral element, and $x^{-1}H$ the inverse. This product is well-defined and it induces a group structure on the set of cosets. 
\end{theorem*}
\begin{proof}
  We just have to check that the product does not depend on the choice of coset representatives: let $x' \in xH, y' \in yH$, let us check that $x'y' \in xyH$. We know that $x' = xh_1, y' = yh_2$ for some $h_1, h_2 \in H$. We can write: 
  \[
    x'y' = xh_1yh_2 = xy(y^{-1}h_1y)h_2 \stackrel{(*)}{=} xyh_3h_2 = xyh_4 \in xyH
  \]
  where step $(*)$ is motivated by the fact that $H$ is normal. Since $x'y' \in xyH$, the product is well defined.
\end{proof}

\begin{definition}
  The group of left cosets of $H \mathrel{\triangleleft} G$ is called the the quotient group $G/H$.
\end{definition}

\aparte{Example}{
  The cosets of $R \mathrel{\triangleleft} D_n = \{1R, sR\}$ form the quotient group $D_n / R$, with the operations between them being the product of their representatives and the neutral element being the coset of 1 wrt $R$. The operations are
  \begin{gather*}
    (1R)(1R) = (1R) \\
    (1R)(sR) = (sR) \\
    (sR)(1R) = (sR) \\
    (sR)(sR) = (1R)
  \end{gather*}
  This pattern seems a little familiar: this group is isomorphic to $C_2 = \langle t | t^2 = 1 \rangle$ (which are the two square roots of unity!), with the mapping function
  \begin{align*}
    \phi: R/D_n &\to     C_2 \\
            1R  &\mapsto 1   \\ 
            sR  &\mapsto t
  \end{align*}
}

\begin{theorem*}
  In an abelian group $G$, every subgroup $H \subset G$ is normal. 
\end{theorem*}

This is barely a theorem, and is easily proven as $ghg^{-1} = hgg^{-1} = h \in H$ for any $g$. 

\marginpar{Week 5}

\begin{definition}
  $S_n$ is the group of \emph{permutations of sets of $n$ elements} $\mathbf{n}$. 
\end{definition}

\aparte{Properties}{
  A permutation is an element of $S_n$, for which we'll see a few different representations; the group operation is composition between two elements; the neutral element is the trivial permutation that moves no element.

  For an element $s \in S_n$, we denote $si$ the index on which it sends the number $i \in \mathbf{n}$

  In general, $|S_n| = n$\footnotemark.
}

\footnotetext{This follows from CS101. I didn't pass that class, but I hear it's where we saw it first.}.

We introduce a new notation for elements of $S_n$. In the meantime, let us denote a permutation as two lists: the first is the input one, and the second is the result of applying the permutation once. On $S_4$, the trivial permutation would look like: 
\[
  \begin{pmatrix}
    1 & 2 & 3 & 4 \\
    1 & 2 & 3 & 4
  \end{pmatrix}
\]

Consider an arbitrary element $\rho \in S_n$, of order $k$, and construct $\langle \rho \rangle = \{1, \rho, ..., \rho^{k - 1}\}$. Take $x \in \mathbf{n}$: then we can construct the \emph{orbit} $\Orb_\rho x := \{x, \rho x, ...\}$. This orbit is unique to each $x$: if there were two $x_1, x_2$ such that their orbits aren't disjoint, there would exist $i, j$ such that 
\begin{gather*}
  \rho^ix_1 = \rho^jx_2 \Leftrightarrow \rho^{i - j}x_1 = x_2 \Rightarrow x_2 \in \Orb_\rho x_1
\end{gather*}

This implies that $\Orb_\rho x_2 \subset \Orb_\rho x_1$, and we can find $\Orb_\rho x_1 \subset \Orb_\rho x_2$ pretty symmetrically: this means $\Orb_\rho x_1 = \Orb_\rho x_2$.

\begin{definition}
  We say that $\pi \in S_n$ is a \emph{cycle} if it has a single non-trivial (containing more than a single element) orbit. The length of this non-trivial orbit is said to be the \emph{length} of the cycle.
\end{definition}

Therefore, we have that 
\[
  \rho = 
  \begin{pmatrix}
    1 & 2 & 3 & 4 \\
    2 & 1 & 3 & 4
  \end{pmatrix}
\]
is a cycle because $\Orb_\rho 1 = \Orb_\rho 2 = \{1, 2\}$ is its only nontrivial orbit, but 

\[
  \sigma = 
  \begin{pmatrix}
    1 & 2 & 3 & 4 \\
    2 & 1 & 4 & 3
  \end{pmatrix}
\]
isn't because it has two nontrivial orbits, $\Orb_\rho 1 = \Orb_\rho 2 = \{1, 2\}$ and $\Orb_\rho 3 = \Orb_\rho 4 = \{3, 4\}$. A cycle of length $k$, will be notated as such: 
\[
  \pi \in S_n : (x, \pi(x), \pi^2(x), ..., \pi^{k - 1}(x))
\]
taking $x$ an arbitrary element such that the orbit $\Orb_\pi x$ is nontrivial.
\[
  \rho = 
  \begin{pmatrix}
    1 & 2 & 3 & 4 \\
    2 & 1 & 3 & 4
  \end{pmatrix}
\]
would be notated as $\rho = (1 2)$.

This means that the cycle 
\[
  (i_1, i_2, ..., i_k)
\]
is the permutation that sends $i_1 \mapsto i_2, i_2 \mapsto i_3, ..., i_k \mapsto i_1$, and leaves every other element unchanged.  

\begin{theorem*}
  Let $S_n$ be the group of permutations on $\mathbf{n}$. Then, disjoint cycles commute in $S_n$ under composition. 
\end{theorem*}
\begin{proof}
  Let $\pi_1, \pi_2$ two disjoint cycles of nontrivial orbits $O_1, O_2$. This means that $O_1 \cap O_2 = \emptyset$. We are looking to prove $\pi_1\pi_2(x) = \pi_2\pi_1(x) \forall x \in \mathbf{n}$. To do that, we split the posisble cases: 
  \begin{enumerate}
    \item[1.] $x \notin O_1 \cup O_2$. Then, $\pi_1\pi_2(x) = \pi_2\pi_1(x) = x$ since $x$ feels no action from either. 
    \item[2.] $x \in O_1 \Rightarrow x \notin O_2$. Then $\pi_1\pi_2(x) = \pi_1(x) = y \in O_1$, and $\pi_2\pi_1(x) = \pi_2(y) = y$. 
    \item[2.] $x \in O_2 \Rightarrow x \notin O_1$. Using a similar argument, the two expressions are equal.
  \end{enumerate}

  Therefore, if two cycles in $S_n$ are disjoint, then their product is commutative.
\end{proof}

\aparte{Method}{
  Computation of the product of two cycles is done right to left. Consider $(12)$ and $(23)$. We evaluate their product:
  \[
    (12)(23)
  \]
  \begin{itemize}
    \item 3 is mapped to 2 by the second cycle, and 2 is mapped to 1 by the first: this means that 3 is mapped to 1. 
    \item 2 is mapped to 3 by the second cycle, which is left untouched by the first, meaning 2 is mapped to 3. 
    \item 1 is untouched by the second, and mapped to 2 by the first, meaning 1 is mapped to 2.
  \end{itemize}
  We see a single apparent cycle within this mapping, meaning that the result is the nontrivial $(123)$.

  Consider now $(1435)(326)$: we describe it more concisely, but the idea is the same: 
  \begin{gather*}
    6 \to 3 \to 5;\ 2 \to 6;\ 3 \to 2; \\
    5 \to 1;\ 4 \to 3;\ 1 \to 4
  \end{gather*}
  We pick any number to start : $(143265)$. 

  Last example: consider $(1435)(321)$. Then, we have: 
  \begin{gather*}
    1 \to 3 \to 5;\ 2 \to 1 \to 4;\ 3 \to 2 \\
    4 \to 3;\ 5 \to 1 
  \end{gather*}
  Picking a random start, we try proceeding. If we hit a cycle before we're done, that means that there is still at least a number we haven't hit: we start from it, and keep going. In this case $(15)(243)$.
}

\begin{theorem}[Unproven\footnotemark]
  Any permutation $\sigma \in S_n$ can be written as the product of disjoint cycles, uniquely, up to the order of cycles used.
\end{theorem}
\footnotetext{Meaning that it will not be proven here. you can find the proof in the teacher's summaries.}

\begin{definition}
  The notation of $\sigma \in S_n$ as the product of disjoint cycles is called the \emph{cycle notation} of $\sigma$. The lengths of these disjoint cycles is called the \emph{cycle type} of $\sigma$. 
\end{definition}

\begin{theorem*}
  The cycle notation for $\pi\rho\pi^{-1}$ can be obtained from the cycle notation for $\rho$ by replacing each $i$ in $\rho$ with $\pi(i)$.
\end{theorem*}
\begin{proof}
  We have $\pi\rho\pi^{-1}(\pi(x)) = \pi\rho\pi^{-1}\pi(x) = \pi\rho(x)$. Now, we suppose $\rho$ is a cycle: 
  \begin{align*}
    \rho&: i \to \rho(i)  &\rho:\ &(i, \rho(i), \rho^2(i), ...) \\
    \pi\rho\pi^{-1}&: \pi(i) \to \pi\rho(i) &\pi\rho\pi^{-1}:\ &(\pi(i), \pi\rho(i), ...)
  \end{align*}
\end{proof}

\begin{definition}
  $s \in S_n$ is a \emph{transposition} if it is a two-cycle, of the form $(ij)$.
\end{definition}
\begin{theorem*}
  Every $k$-cycle can be written as the product of $(k - 1)$ transpositions. 
\end{theorem*}
\begin{proof}
  We prove this by induction:
  \begin{itemize}
    \item[] \textbf{Base:} $k = 2$ is trivial, $k = 3$ is unpacked easily as $(123) = (13)(12)$. 
    \item[] \textbf{Induction:} Suppose $(123...k) = (1k)...(13)(12)$. We consider : 
    \[
      (1\ k + 1)(123...k) \stackrel{(1)}{=} (123...k\ k + 1) \stackrel{(2)}{=} (1k)...(13)(12)
    \]
    where we obtain $(1)$ by direct computation of the product and $(2)$ by direct application of the induction hypothesis.
  \end{itemize}
\end{proof}

As a direct result of this, we can say that $S_n$ is generated by the transpositions $\{(ij)\}_{i < j}$: since every permutation is the product of disjoint cycles, and every cycle is the product of transpositions, then every permutation is the product of transpositions, which might not be disjoint.

\begin{theorem}
  The product of an odd number of transposition cannot be equal to the product of an even number of transpositions.
\end{theorem}
\begin{proof}
  The proof of this can be found by considering the number of inversions present after a given permutation. Consider the state after the permutation $\sigma$ as: 
  \[
    s_1s_2...im_1m_2...m_k...ke_1e_2...
  \]
  Now, consider $(ij)\sigma$ and any $m_k$. 
  \begin{itemize}
    \item If $i < m_k, j < m_k$ or $m_k < i, m_k < j$, then swapping $i$ and $j$ does not contribute to the amount of inversions $\Rightarrow \pm 0$ inversions; 
    \item If $i < m_k < j$ or $j < m_k < i$, then swapping $i$ and $j$ changes the inversion state between $i$ and $m_k$, and between $m_k$ and $j$ $\Rightarrow \pm 2$ inversions.
  \end{itemize}
  Additionally, since $i \neq j$, swapping them adds or removes an inversion, as well, in such a way that in total, an additional transposition changes the number of inversions by 1. 

  Therefore, it is impossible to obtain the same number with $2k$ and $2k' + 1$ transpositions, no matter the values of $k, k' \in \mathbb{N}$. 
\end{proof}
\marginpar{Week 6}
\begin{definition}
  We use the number of inversions in a given permutation to define its \emph{sign} as 
  \[
    \sgn{\sigma} = (-1)^{\operatorname{inv}\sigma} = \begin{cases}
      1 &, \sigma \text{ has an even number of inversions} \\
      -1 &, \sigma \text{ has an odd number of inversions}
    \end{cases}
  \]
\end{definition}

This can easily be shown to verify $\sgn(\sigma\tau) = \sgn(\sigma)\sgn(\tau)$...: $\sgn: S_n \to \{0, 1\}$ is a group homomorphism! Recalling that the kernel of an homomorphism is a subgroup, we get that 
\[
  A_n = \ker\sgn \mathrel{\triangleleft} S_n = \{\sigma \in S_n : \operatorname{inv}\sigma \text{ is even}\}
\]
$A_n$ is called the \emph{alternating group}, and it is of size $n! / 2$ (can be shown by Lagrange.)

\begin{theorem*}
  Let $g, h \in S_n$, consider $ghg^{-1} \in S_n$. If $h$ is the product of disjoint cycles of lengths $\{l_1, l_2, ..., l_n\}$, then $ghg^{-1}$ is the product of disjoint cycles of same length set. 
  Therefore, any element that is the product of disjoint cycles of given lengths can be obtained from another of same lengths by conjugation with another element.
\end{theorem*}
\begin{proof}
  Let us consider a single cycle $\rho_{l}$ of length $l$. Then, we have that 
  \[
    \rho_l = (i_1i_2...i_l) \Rightarrow g\rho_{l}g^{-1} = (g(i_1)...g(i_l))
  \]
  is a cycle of the same length! This being said, we consider $h$ as the product of disjoint cycles, with their relative lengths: 
  \[
    h = \rho_{l_1}...\rho_{l_r}\Rightarrow ghg^{-1} = (g\rho_{l_1}g^{-1})...(g\rho_{l_r}g^{-1}) = \gamma_{l_1}...\gamma{l_r}
  \]
  where we introduce neutral elements in the product under the form $e = gg^{-1}$. Therefore, we see here that the action is obtained by mapping every element in every cycle of $h$ to the corresponding element in the new cycles $\gamma$. 
\end{proof}

We can use conjugates to define classes: 
\begin{definition}
  The \emph{conjugacy class} of $h$, $\{ghg^{-1}\}_{g \in S_n}$ is the set of all elements conjugated to $h$ in $S_n$. More informally, as we've seen, it's the set of all elements that have the same cycle type as $h$.
\end{definition}

\aparte{Conclusion}{
  This allows us to more formally define the idea that $S_n$ is the disjoint union of the classes of elements that have same cycle type. These conjugacy classes are in bijection with the partitions of the integer $n$, of the form: 
  \[
    \{\{i_1, ..., i_k\} : n = i_1 + ... + i_k, i_1 \geqslant ... \geqslant i_k\}
  \]
  with $\{i_1, ..., i_k\}$ corresponding to the cycle lengths of the elements in the class. For example, take the partitions of the number 4, matched with the corresponding elements in $S_4$: 
  \begin{gather*}
    \{4\} \to \{(1234), (2143), ...\}\\
    \{3, 1\} \to \{(123), (234), ...\}\\
    \{2, 2\} \to \{(12)(34), (24)(13), ...\}\\
    \{2, 1, 1\} \to \{(12), (13), (32), ...\}\\ 
    \{1, 1, 1, 1\} \to \{e\}
  \end{gather*}
}

\section{Actions of groups on sets}
\subsection{Orbits and stabilizers}
\begin{definition}
  Let a finite group $G$, and a finite set $E$. We say that $G$ \emph{acts on $E$ by permutations} if one can define the product $g \cdot x$ for any $g \in G, x \in E$ in such a way that
  \begin{gather*}
    e \cdot x = x\ \forall x \in E \\
    g_1g_2 \cdot x = g_1 \cdot (g_2 \cdot x) \ \forall g_1, g_2 \in G, x \in E
  \end{gather*}

  We also define the \emph{orbit} of $x \in E$ under the action of $G$ as the subset \[\Orb_x = \{g \cdot x\}_{g \in G} \subset E\]
\end{definition}

\begin{theorem*}\label{disjointorb}
  Let $E$ a finite set, $x, y \in E$, $G$ a finite group. Then, 
  \[
    \Orb_x = \Orb_y \text{ ou } \Orb_x \cap \Orb_y = \emptyset
  \]
\end{theorem*}
\aparte{}{
  Proof of this was done in a problem set, and can be found in the appendix. 
}

Since every element of $E$ belongs to some orbit (at the very least $\Orb_x$), we can write 
\[
  E = \bigcup_{i = 0}^{k} \Orb_{x_i}
\]
with a set of orbit representatives $\{x_i\}_{i = 0}^k$. If we consider the case of $G$ acting on itself by conjugation, then the orbit of $h$ in $G$ is the conjugacy class $C_h = \{ghg^{-1}\}_{g \in G}$. This yields, similarly, 
\[
  G = \bigcup_{i = 0}^k C_{h_i}
\]
which is not very interesting group for an abelian group as $C_h = {ghg^{-1}}_{g \in G} = \{gg^{-1}h\}_{g \in G} = \{h\}$, meaning they are all disjoint as they contain a single element.

\begin{definition}
  Let $G, E$ be a finite group and a finite set, respectively, such that $G$ acts on $E$. The \emph{stabilizer} of $x$ is the set: 
  \[
    \Stab_x = \{g \in G: g \cdot x = x\}
  \]
  It is a subgroup of $G$. 
\end{definition}

\begin{theorem}[Orbit-Stabilizer Theorem]
  Let $G$ be a finite group acting on $E$ a finite set, let $x \in E$. Then, 
  \[
    |\Orb_x| = [G : \Stab_x] = |G|/|\Stab_x|
  \]
\end{theorem}
\begin{proof}
  Consider the left cosets with respect to $H = \Stab_x$. We have a bijection $\mu$ between ${gH}_{g \in G}$ and $\Orb_x$. We define it as: 
  \[
    \mu: gH \mapsto g \cdot x
  \]
  This mapping is surjective, because every $g$ appears in a left coset of $H$. To prove it is injective, we consider two $g, f$ such that $\mu(gH) = \mu(fH) \in Orb_x$: 
  \[
    g \cdot x = f \cdot x \Rightarrow f^{-1} g \cdot x = x \Rightarrow f^{-1}g \in \Stab_x \Rightarrow f^{-1}gH \subset H 
  \]
  This means $gH \subset fH$. Symmetrically, we establish $fH \subset gH$, meaning $fH = gH$. This implies $\mu$ is injective, meaning that the number of left cosets of $H$ is the same as the number of elements in the orbit of $x$. Using the formula for the number of left cosets, we get
  \[
    |Orb_x| = \# \text{ of left $H$-cosets} = [G : H] = [G : \Stab_x]
  \]
\end{proof}

\begin{definition}
  The \emph{center} of a group is the set of all elements that commute with every $g \in G$: 
  \begin{align*}
    Z(G) 
    &= \{x \in G: g \cdot x = x \cdot g \ \forall g \in G\} \\
    &= \{x \in G: g \cdot x \cdot g^{-1} = x\ \forall g \in G\}
  \end{align*}
  It is also the set of all 1-element conjugacy classes of $G$. 
\end{definition}
\begin{theorem}
  Using the center, we define the \emph{class equation of $G$}, for a finite group $G$: 
  \[
    |G| = |Z(G)| + \sum_{i = 0}^rC_{x_i} = |Z(G)| + \sum_{i = 0}^{r} [G:G_{x_i}]
  \]
  Where $G_{x_i}$ is the stabilizer of $x_i$ with respect to conjugation. 
\end{theorem}
\begin{proof}
  We know that $G$ is the disjoint union of its conjugacy classes
  \begin{gather*}
    |G| = \sum_{i = 0}^m |C_{x_i}| = \underbrace{\sum_{i = 0}^r |C_{x_i}|}_{\text{conj. cl. of size } 1} + \underbrace{\sum_{j = 0}^s |C_{x_j}|}_{\text{conj. cl. of size } \neq 1} \\
    \Rightarrow |G| = |Z(G)| + \sum_{j = 0}^s |C_{x_j}| = |Z(G)| + \sum_{j = 0}^s |[G:G_{x_i}]|
  \end{gather*}
  Since the size of the conjugacy class is the number of left cosets of stabilizer subgroup. 
\end{proof}

\aparte{Application}{
  A group of order $p^n$ with $p$ prime has nontrivial center. 
  \begin{proof}
    \[
      |G| = |Z(G)| + \sum_{j = 0}^s |[G:G_{x_i}]|
    \]
    where $|G| = p^n$, which is divisible by $p$, and $[G:G_{x_i}] = |G|/|G_{x_i} = p^n/|G_{x_i}| > 1$, meaning it is divisible by $p$ as well. This implies $|Z(G)|$ is also divisible by $p$, and since it contains $e$, it cannot be 0. Therefore, it has to be a nontrivial multiple of $p$.
  \end{proof}
}

\marginpar{Week 7}
\section{Classifying finite abelian groups}

Finite groups split into two categories:
\begin{center}
  \begin{tabular}{ c | c | c }
               & Abelian & Non-Abelian \\ \hline
    Definition & $ab = ba \ \forall a, b \in G$ & $\exists a, b \in G: ab \neq ba$ \\
    Normal Subgroups & All subgroups & $H \mathrel{\triangleleft} G : gHg^{-1} \in H \ \forall g \in G$ \\
    Conjugacy classes & $|C_i| = 1 \forall C_i$ & $\exists C_i: |C_i| > 1$ \\
    Class equation & $|G| = |Z(G)|$ & $|G| = |Z(G)| + \sum_{i < r} |C_i|$ \\
    Examples & All cyclic groups $C_n$ & $D_n$ and $S_n$. 
  \end{tabular}  
\end{center}
That being said: 
\begin{theorem}[Cauchy]\label{cauchy}
  Let $G$ be a finite group such that a prime $p$ divides its order $|G|$. Then, $G$ has an element of order $p$. 
\end{theorem}
\begin{proof}
  We will prove this in the case where $G$ is an abelian group. The other case is done in a problem set, and can be found in the appendix. 
  
  If $G$ is abelian, then let $G$ the counterexample of smallest order. Consider a nontrivial element $g \in G$, such that its order $k = \ord(g)$ is not divisible by $p$. If it was, we would have $g^{kp} = 1 \Rightarrow g^k$ has order $p$. 
  
  Next, we consider the normal subgroup $\gen{g}$, which contains $k$ elements. Looking at the quotient group, we have: 
  \[
    G/\gen{g} \Rightarrow p \text{ divides } |G/\gen{g}| = |G|/\gen{g} < |G| 
  \]
  This means that there exists an element $h \in G/\gen{g}$ such that its order in the quotient group is $p$. Since $h \in \gen g$, then $h^p = g^s$ for some $s$. Let $i$ be the order of $g^s$ in $G$: 
  \[
    (h^p)^k = (g^s)^k = 1
  \]
  meaning that the order of $h^k \in G$ is $p$, contradicting our assumptions. 
\end{proof}

\begin{definition}
  $G$ is \emph{simple} if it has no proper nontrivial normal subgroup. 
\end{definition}
\begin{corollary}
  If $G$ is simple, finite and abelian, then it is isomorphic to a cyclic group of prime order. 
\end{corollary}
\begin{proof}
  Consider $|G| = p_1^{n_1}...p_k^{n_k}$. By Cauchy's theorem, there has to be an element of order $p_1$ within $G$. Let's call it $g$. therefore, $\gen{g}$ is a normal subgroup of $G$ of size $p_1$. 
  
  $\gen{g}$ is a proper subgroup only if there exists an element in $G$ that is not in $\gen{g}$, meaning that $G$ is not simple if and only if $|G| > |\gen{g}| = p_1$. This means that for $G$ to be simple it has to be of order $p_i$.
  
  Therefore, $G = \gen{g} = C_p$. 
\end{proof}

\subsection{Direct product on groups}
\begin{definition}
  Let $G, H$ two groups. Then, their \emph{direct product} is the set of pairs $G\times H = \{(g, h): g \in G, h \in H\}$, with the multiplication operation defined such that
  \begin{gather*}
    (g_1, h_1)(g_2, h_2) = (g_1g_2, h_1h_2) \\
    (e_G, e_H) \text{ is the neutral element} \\
    (g_1^{-1}, h_1^{-1})(g_1, h_1) = (e_G, e_H)
  \end{gather*}
  This means that it satisfies the group axioms.
\end{definition}
\aparte{Examples}{
  Let's consider the cyclic groups, for now. Let $C_2 = \gen{a | a^2 = 1}, C_3 = \gen{b |b^3 = 1}$. Then,
  \[
    C_2 \times C_3 = \{(g, h): g \in C_2, h \in C_3\} = \{(1, 1), (a, 1), (1, b), (1, b^2), (a, b), (a, b^2)\}
  \]
  In this group, $t = (a, b)$ is a generator, and it is of order $6$. However, it is not always the case that $C_n \times C_m \simeq C_{mn}$: take $C_2 \times C_2 = \{(1, 1), (a, 1), (1, b), (a, b)\}$, where every nontrivial element has order 2. This means that it cannot be isomorphic to $C_4$. 

  To be more general: let $(a, b) \in C_n \times C_m$, such that $\ord(a) = n, \ord(b) = m$. Then, we know that 
  \[(a, b)^s = (a^s, b^s) = (1, 1) \Rightarrow \ord(a) | s, \ord(b) | s \Rightarrow s = \lcm(n, m)\]
}

\begin{theorem*}
  $C_n \times C_m \simeq C_{nm} \Leftrightarrow \gcd(n, m) = 1$. In that case, $C_n \times C_m$ is cyclic.
\end{theorem*}
\begin{proof}
  If $\gcd(n, m) = 1 \Leftrightarrow \lcm(n, m) = nm = \ord((a, b))$. This implies $|C_n \times C_m| = nm \Rightarrow C_n \times C_m \simeq C_{nm}$ is cyclic. 
  If $\gcd(n, m) = d > 1$, then $\lcm(n, m) = \frac{nm}{d} = \ord((a, b)) < nm$. Therefore, There is no element of order $nm$ in $C_n \times C_m$, meaning that it is not a cyclic group
\end{proof}

\begin{corollary}
  Let $C_n$ a cyclic group such that $n = p_1^{k_1}...p_r^{k_r}$ is the prime factorization of $n$. Then, 
  \[
    C_n \simeq C_{p_1^{k_1}} \times ... \times C_{p_r^{k_r}}
  \]
\end{corollary}
\begin{proof}
  $C_n \simeq C_{p_1^{k_1}} \times C_m$, with $m = p_2^{k_2} \times ... \times p_r^{k_r}$, by means of the previous proposition, since $\gcd(p_1^{k_1}, m) = 1$ by definition. This can be repeated on $C_m$ to get the decomposition.
\end{proof}

\aparte{Properties}{
  Some properties of the direct product include: 
  \begin{enumerate}
    \item[a] $G \times H \simeq H \times G$ through the isomorphism $\phi: (g, h) \mapsto (h, g)$. 
    \item[b] $H, G \subset G \times H$, since $\{(1, h), h \in H\} \simeq H \subset G \times H$. 
    \item[c] $G \times H$ is abelian if and only if $H, G$ are abelian. 
    \item[d] If $G \supset H, K$ such that 
    \begin{itemize}
      \item $H \cap K = \{e\}$
      \item $\forall h \in H, k \in K:  hk = kh$
      \item $HK = \{hk\}_{h \in H, k \in K} = G$
    \end{itemize}
    then $G \simeq H \times K$, through the map $\phi: H \times K \to G:  \phi(k, h) = hk$. 
  \end{enumerate}
}

This induces a theorem to classify finite abelian groups. 

\begin{theorem}
  Let $G$ be a finite abelian group. Then, $G$ is isomorphic to a direct product of cyclic groups of prime power orders.
  \[
    G \simeq C_{p_1^{n_1}} \times .... \times C_{p_m^{n_m}}
  \]
  With $\{p_i\}_{i = 1}^{m}$ $m$ primes not necessarily distinct. This presentation is unique up to the order of factors. 
\end{theorem}
\begin{proof}
  Let $G = \gen{g_1,...g_k | R_1, ..., R_l}$, with $\{g_i\}_{i = 1}^k$ the generators and $\{R_i\}_{j = 1}^l$ the relations. The relations are of the form: 
  \[
    \begin{cases}
      R_1: g_1^{n_{11}}g_2^{n_{12}}...g_k^{n_{1k}} = 1 \\
      \ \ \vdots \\
      R_l: g_1^{n_{l1}}g_2^{n_{l2}}...g_k^{n_{lk}} = 1
    \end{cases}
  \]
  which we can encode in a rectangular, $\mathbb{Z}^{l \times k}$ matrix : 
  \[
    \begin{pmatrix}
      n_{11} &  \dots & n_{1k} \\
      \vdots & \ddots & \vdots \\
      n_{l1} &  \dots & n_{lk}
    \end{pmatrix}
  \]
  On which we can do the following operations without changing the group $G$:
  \begin{itemize}
    \item Adding integer multiples of one row to another: since each line evaluates to 1, then adding a line to another does not change its value, but it does change the coefficients. 
    \[
      \begin{cases}
        x^ay^b = 1 \\
        x^d = 1
      \end{cases} \Rightarrow
      \begin{pmatrix}
        a & b \\
        d & 0 
      \end{pmatrix} =
      \begin{pmatrix}
        a + d & b \\
        d & 0 
      \end{pmatrix} \Rightarrow
      \begin{cases}
          x^{a+d} y^b = x^ax^dy^b = x^ay^b = 1 \\
          x^d = 1
      \end{cases}
    \]
    \item Adding integer multiples of one column to another: column addition is equivalent to changing the generators in the representation of $G$. 
    \item Swapping two columns or rows: equivalent to reordering the generators. 
  \end{itemize}

  Applying these operations, one can reduce $|n_{11}|$ as much as possible, meaning to the gcd of all elements in the first row and column\footnotemark. Using this we can rewrite the original matrix as : 
  \[
    \begin{pmatrix}
      n_{11} &0&  \dots & 0  \\
      0      &n_{22}&  \dots & n_{2k}  \\
      \vdots & & \ddots & \vdots \\
      0      &n_{l2}&  \dots & n_{lk}
    \end{pmatrix}
  \]
  repeating on submatrices, we end up on the following matrix: 
  \[
    \begin{pmatrix}
      n_{11} &0&  \dots & 0  \\
      0      &n_{22}&  \dots & 0  \\
      \vdots &\vdots & \ddots & \vdots \\
      0      &0&  \dots & n_{rr}
    \end{pmatrix}, r = \min{l, k}
  \]
  which defines the same group, as \[G = \gen{g_1...g_3 | g_1^{n_{11}} = 1, ..., g_r^{n_{rr}} = 1}\] which means that $G_i = \gen{g_i}$ are cyclic subgroups of $G$.

  Moreover, for any $i \neq j$, $G_i \cap G_j = \{1\}$ if $i \neq j$, $g_ig_j = g_jg_i$ since $G$ is abelian, and $\{h_1...h_r\} = G$, meaning that by property d, 
  \[
    G \simeq C_{n_{11}} \times C_{n_{22}} \times ... \times C_{n_{rr}}
  \]
  Each $C_{n_{ii}}$ can be rewritten as its prime factorization, as we know. 
  Therefore, expanding it out: 
  \[
    G \simeq C_{p_1^{n_1}} \times ... \times C_{p_m^{n_m}} 
  \]
  Which is what we wanted to prove.
\end{proof}
\begin{corollary}
  If $|G| = p^n$, with $p$ a prime, then $G$ is the direct product of cyclic groups
  \[
    G \simeq C_{p^{i_1}} \times ... \times C_{p^{i_k}}
  \]
  such that $p^{i_1 + i_2 + ... + i_k} = p^{n}$. Therefore, all possible abelian groups of order $p^n$ are in bijection with the partitions of $n$. 
\end{corollary}
\aparte{Example}{
  Take $p = 2, n = 3, G$ abelian: 
  \[
    |G| = 8 = 2^3; \text{Partitions of }3: (3), (2, 1), (1, 1, 1)
  \]
  This is therefore isomorphic to $G_1 \simeq C_{2^3}, G_2 \simeq C_{2^2} \times C_2, G_3, G_3 \simeq C_{2} \times C_2 \times C_2$, which are all pairwise nonisomorphic.
}

\footnotetext{This is due to the fact that all of the operations end up looking like repeated addition and subtraction, which are multiplication and division. The only way to minimize an element is therefore by ensuring it divides every other element. I think? idk it's a little handwavy but it works}. 
\begin{definition}
  The numbers $(p_1^{n_1}, ..., p_m^{n_m})$ are called the \emph{elementary divisors} of $G$. 
\end{definition}

\begin{theorem}
  A finite abelian group $G \simeq C_{d_1} \times ... \times C_{d_n}$, with $C_{d_i}$ cyclic for any $i$, and $d_n | d_{n - 1}, ..., d_2 | d_1$, $|G| = d_1d_2..d_n$. The numbers $(d_1, ..., d_n)$ are called the \emph{invariant factors} of $G$. The determine it uniquely. 
\end{theorem}
\aparte{Method}{
  The algorithm to determine all abelian groups of a given order is as follows: 
  \begin{enumerate}
    \item Decompose $|G| = n = \prod_j p_j^{k_j}$ into its prime factors, and find partitions for each power. For each partition of $k_i$, there is a unique group of order $p_i^{k_i}$: 
    \[
      k_i = a_1 + ... + a_i \Rightarrow = C_{p_i^{a_1}} \times C_{p_i^{a_i}}
    \]
    The possible groups are the direct products of all possible groups of orders $p_i^{k_i}$. Therefore, we get $G$ in the form of a direct product of cyclic groups of prime power orders, which we call the \emph{elementary divisors} of $G$.  
    \item To find the decomposition of $G$ in terms of the \emph{invariant factors}, for each group above we write $C_{p_i^{a_i}}$ with the same $p_i$ in the same line, in decreasing order of $a_i$. Then, each column gives a direct product of cyclic groups with coprime orders $\Rightarrow$ the direct product of each column is cyclic!

    The orders of these groups $(d_1, d_2, ..., d_n)$ are called the \emph{invariant factors} of $G$. By construction, $d_n | d_{n - 1} | ... | d_1$. 
  \end{enumerate}
  Therefore, it is possible to determine an abelian group in two different representations. 
}

\aparte{Example}{
  For example, we can consider $|G| = 72 = 2^23^2$. Then, $p_1 = 2, p_2 = 3$, and we have the following partitions of the exponents: 
  \begin{align*}
    3&: (3), (2, 1), (1, 1, 1) \\
    2&: (2), (1, 1)
  \end{align*}
  Therefore, we consider the following splits, using products of vertically aligned items\footnotemark:
  \begin{center}
    \fontsize{8pt}{1}
    \begin{tabular}{p{8mm} | p{11mm} | p{17mm} | p{17mm} | p{22mm} | p{22mm}}
      $C_{2^3} \times$ & $C_{2^3} \times$ & $C_{2^2} \times C_2 \times$ & $C_{2^2} \times C_2 \times$ & $C_2 \times C_2 \times C_2 \times$ & $C_2 \times C_2 \times C_2$ \\
      $C_{3^2}$ & $C_3 \times C_3$ & $C_{3^2}$ & $C_3 \times C_3$ & $C_{3^2}$ & $C_3 \times C_3$ \\ \hline
      $C_{72}$ & $C_{24} \times C_3$ & $C_{36} \times C_2$ & $C_{12} \times C_6$ & $C_{18} \times C_2 \times C_2$ & $C_6 \times C_6 \times C_2$
    \end{tabular}
  \end{center}

  The elementary divisors correspond to the partitions of the powers, so they are : 
  \[
    \{(2^3, 3^2), (2^3, 3, 3), (2^2, 2, 3^2), (2^2, 2, 3, 3), (2, 2, 2, 3^2), (2, 2, 2, 3, 3)\}
  \]
  and the invariant factors are given by the powers of this awful construction, so
  \[
    \{(72), (24, 3), (36, 2), (12, 6), (18, 2, 2), (6, 6, 2)\}
  \]
}
\footnotetext{There was, physically, no better way of having this fit together. Sorry.}

